(this.webpackJsonpnatural_catastrophes_map=this.webpackJsonpnatural_catastrophes_map||[]).push([[0],{39:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),i=n(4),r=n.n(i),s=n(9),o=n.n(s),l=n(11),j=n(3),d=n(12),u=n(24),b=n(6),O=n.n(b),f=Object(a.createContext)(!1),m=n(14),v=n(15),h=n(16),x=n(10),_=n(17),g=n(18),p=n(19),I=n(20),N=n(21),S=n(2),k=function(e){var t,n,c,i=e.id,r=e.main,s=(e.lat,e.lng,e.onClick),o=Object(a.useContext)(f),l=Object(j.a)(o,2)[1],d=function(e,t){var n="2rem",a="blue",c=x.a;return 6===e?(n="1.8rem",a="#d5d1cc",c=x.a):8===e?(n="1.5rem",a="red",c=N.a):9===e?(a="#83d7ee",c=g.a):10===e?t?(a="yellow",c=m.a):(n="1.5rem",a="#fc6b03",c=_.a):12===e?c=h.a:14===e?(n="2.5rem",c=p.a):15===e?(n="1.6rem",c=v.a):16===e&&(n="2rem",a="#A9A18C",c=I.a),[c,n,a]}(i,r),u=Object(j.a)(d,3);t=u[0],n=u[1],c=u[2];return Object(S.jsx)("div",{className:"locatioMarker",onClick:function(){l(!0),s()},children:Object(S.jsx)(b.Icon,{icon:t,className:"locationMarker__icon",style:{color:c,fontSize:n}})})},y=n(22),C=function(e){var t=e.id,n=e.title,c=e.eventDate,i=Object(a.useContext)(f),r=Object(j.a)(i,2),s=r[0],o=r[1],l=Object(a.useState)("locationInfo"),d=Object(j.a)(l,2),u=d[0],b=d[1],m=new Date(c);return Object(a.useEffect)((function(){b(s?"locationInfo":"locationInfo--hidden")}),[s]),Object(S.jsxs)("div",{className:u,children:[Object(S.jsx)("div",{className:"",onClick:function(){return o(!1)},children:Object(S.jsx)(O.a,{icon:y.a,className:"locationInfo__xIcon"})}),Object(S.jsx)("h2",{children:"Event Location Info"}),Object(S.jsxs)("ul",{className:"locationInfo__list",children:[Object(S.jsx)("li",{className:"locationInfo__list__item",children:n}),Object(S.jsx)("li",{className:"locationInfo__list__item",children:m.toDateString()}),Object(S.jsxs)("li",{className:"locationInfo__list__item",children:["ID: ",Object(S.jsx)("strong",{children:t})]})]})]})},D="AIzaSyCO2begFjUKhEjzBjbteS9SF7dG2uMSBSg";console.log(D);var w={lat:45.237049,lng:21.017532},E=function(e){var t=e.data,n=e.center,c=void 0===n?w:n,i=e.zoom,r=void 0===i?5:i,s=Object(a.useState)({id:"",title:"",eventDate:""}),o=Object(j.a)(s,2),l=o[0],b=o[1],O=t.map((function(e){if([6,8,9,12,14,15,16].includes(e.categories[0].id)){var t,n,a=function(e,t){var n,a;return"Point"===e?(n=t[0],a=t[1]):(n=t[0][0][0],a=t[0][0][1]),[n,a]}(e.geometries[0].type,e.geometries[0].coordinates),c=Object(j.a)(a,2);return t=c[0],n=c[1],Object(S.jsx)(k,{id:e.categories[0].id,lat:n,lng:t,onClick:function(){return b({id:e.id,title:e.title,eventDate:e.geometries[0].date})}})}if(10===e.categories[0].id){var i,r=[],s=0,o=Object(d.a)(e.geometries);try{for(o.s();!(i=o.n()).done;){var l=i.value;r.push(Object(S.jsx)(k,{id:e.categories[0].id,main:0===s||s===e.geometries.length-1,lat:l.coordinates[1],lng:l.coordinates[0],onClick:function(){return b({id:e.id,title:e.title,eventDate:e.geometries[0].date})}})),s+=1}}catch(u){o.e(u)}finally{o.f()}return r}return null}));return Object(S.jsxs)("div",{className:"map",children:[Object(S.jsx)(u.a,{bootstrapURLKeys:{key:D},defaultCenter:c,defaultZoom:r,options:{fullscreenControl:!1},children:O}),""!==l.title&&Object(S.jsx)(C,{id:l.id,title:l.title,eventDate:l.eventDate})]})},z=function(){return Object(S.jsx)("header",{className:"header",children:Object(S.jsx)("h1",{className:"header__text",children:"Natural Hazards Tracker"})})},F=n(23),M=n.n(F),A=function(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)([]),r=Object(j.a)(i,2),s=r[0],d=r[1],u=Object(a.useState)(!1),b=Object(j.a)(u,2),O=b[0],m=b[1];return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,fetch("https://eonet.sci.gsfc.nasa.gov/api/v2.1/events?days=300&api_key=".concat("3XSJEDEF0y4qQAFUv3tja24v4Q3qvFdsVwfvPMCa"));case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,a=n.events,d(a),m(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(z,{}),O?Object(S.jsx)("div",{className:"loader",children:Object(S.jsx)(M.a,{color:"#123abc",size:30})}):Object(S.jsx)(f.Provider,{value:[n,c],children:Object(S.jsx)(E,{data:s})})]})};n(39);r.a.render(Object(S.jsx)(c.a.StrictMode,{children:Object(S.jsx)(A,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.1bd94ae1.chunk.js.map